var $=Object.defineProperty,b=Object.defineProperties;var k=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var B=(e,t,o)=>t in e?$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,u=(e,t)=>{for(var o in t||(t={}))y.call(t,o)&&B(e,o,t[o]);if(g)for(var o of g(t))L.call(t,o)&&B(e,o,t[o]);return e},h=(e,t)=>b(e,k(t));var f=(e,t,o)=>new Promise((i,n)=>{var p=s=>{try{r(o.next(s))}catch(m){n(m)}},c=s=>{try{r(o.throw(s))}catch(m){n(m)}},r=s=>s.done?i(s.value):Promise.resolve(s.value).then(p,c);r((o=o.apply(e,t)).next())});import{B as P,a as R}from"./index-10820036.js";import{B as S}from"./BasicForm-48304e34.js";import"./componentMap-18b2c803.js";import{u as A}from"./useForm-e6560703.js";import"./RadioButtonGroup-a85e25e5.js";import{_ as O}from"./index.js";import"./uuid-a2a47690.js";import{a as U}from"./account.data-cce96674.js";import{a as D}from"./system-82075152.js";import{d as I,f as M,c as T,u as l,a7 as _,Z as V,a8 as G,a9 as N,l as W,ac as Z}from"./vue-ea98dac5.js";import"./antd-201c8368.js";import"./useWindowSizeFn-997fa1d0.js";import"./FormItem.vue_vue_type_script_lang-2510bf83.js";import"./useFormItem-14b12386.js";import"./useSortable-3cb9ef53.js";import"./download-2647fd8d.js";import"./base64Conver-39fc0d26.js";import"./index-5b47f6d9.js";import"./IconPicker.vue_vue_type_script_setup_true_lang-eb395492.js";import"./copyTextToClipboard-0177fd68.js";import"./index-55225be0.js";const j=I({name:"AccountModal",components:{BasicModal:P,BasicForm:S},emits:["success","register"],setup(e,{emit:t}){const o=M(!0),i=M(""),[n,{setFieldsValue:p,updateSchema:c,resetFields:r,validate:s}]=A({labelWidth:100,baseColProps:{span:24},schemas:U,showActionButtonGroup:!1,actionColOptions:{span:23}}),[m,{setModalProps:d,closeModal:F}]=R(a=>f(this,null,function*(){r(),d({confirmLoading:!1}),o.value=!!(a!=null&&a.isUpdate),l(o)&&(i.value=a.record.id,p(u({},a.record)));const C=yield D();c([{field:"pwd",show:!l(o)},{field:"dept",componentProps:{treeData:C}}])})),v=T(()=>l(o)?"编辑账号":"新增账号");function w(){return f(this,null,function*(){try{const a=yield s();d({confirmLoading:!0}),F(),t("success",{isUpdate:l(o),values:h(u({},a),{id:i.value})})}finally{d({confirmLoading:!1})}})}return{registerModal:m,registerForm:n,getTitle:v,handleSubmit:w}}});function q(e,t,o,i,n,p){const c=_("BasicForm"),r=_("BasicModal");return V(),G(r,Z(e.$attrs,{onRegister:e.registerModal,title:e.getTitle,onOk:e.handleSubmit}),{default:N(()=>[W(c,{onRegister:e.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}const fo=O(j,[["render",q]]);export{fo as default};
